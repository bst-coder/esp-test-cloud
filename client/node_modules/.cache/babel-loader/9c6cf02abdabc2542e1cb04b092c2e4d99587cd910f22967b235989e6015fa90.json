{"ast":null,"code":"import React from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const DeviceCard=_ref=>{var _device$zones,_device$configuration;let{device,onSelectDevice,isSelected}=_ref;const getStatusColor=(isOnline,lastSeen)=>{if(!isOnline)return'bg-red-500';const lastSeenTime=new Date(lastSeen);const now=new Date();const diffMinutes=(now-lastSeenTime)/(1000*60);if(diffMinutes<2)return'bg-green-500';if(diffMinutes<10)return'bg-yellow-500';return'bg-red-500';};const formatLastSeen=lastSeen=>{const date=new Date(lastSeen);const now=new Date();const diffMinutes=Math.floor((now-date)/(1000*60));if(diffMinutes<1)return'Just now';if(diffMinutes<60)return`${diffMinutes}m ago`;const diffHours=Math.floor(diffMinutes/60);if(diffHours<24)return`${diffHours}h ago`;const diffDays=Math.floor(diffHours/24);return`${diffDays}d ago`;};return/*#__PURE__*/_jsxs(\"div\",{className:`bg-white rounded-lg shadow-md p-6 cursor-pointer transition-all duration-200 hover:shadow-lg ${isSelected?'ring-2 ring-blue-500 border-blue-500':'border border-gray-200'}`,onClick:()=>onSelectDevice(device),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-800\",children:device.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:`w-3 h-3 rounded-full ${getStatusColor(device.isOnline,device.lastSeen)}`,title:device.isOnline?'Online':'Offline'}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-500\",children:device.isOnline?'Online':'Offline'})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Device ID:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-mono text-gray-800\",children:device.deviceId})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Location:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-800\",children:device.location||'Unknown'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Zones:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-800\",children:((_device$zones=device.zones)===null||_device$zones===void 0?void 0:_device$zones.length)||0})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Last Seen:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-800\",children:formatLastSeen(device.lastSeen)})]})]}),((_device$configuration=device.configuration)===null||_device$configuration===void 0?void 0:_device$configuration.emergencyShutoff)&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-3 px-2 py-1 bg-red-100 text-red-800 text-xs rounded-md\",children:\"\\uD83D\\uDEA8 Emergency Shutoff Active\"})]});};export default DeviceCard;","map":{"version":3,"names":["React","jsx","_jsx","jsxs","_jsxs","DeviceCard","_ref","_device$zones","_device$configuration","device","onSelectDevice","isSelected","getStatusColor","isOnline","lastSeen","lastSeenTime","Date","now","diffMinutes","formatLastSeen","date","Math","floor","diffHours","diffDays","className","onClick","children","name","title","deviceId","location","zones","length","configuration","emergencyShutoff"],"sources":["/home/bst/AWS/smart-irrigation-system/client/src/components/DeviceCard.js"],"sourcesContent":["import React from 'react';\n\nconst DeviceCard = ({ device, onSelectDevice, isSelected }) => {\n  const getStatusColor = (isOnline, lastSeen) => {\n    if (!isOnline) return 'bg-red-500';\n    \n    const lastSeenTime = new Date(lastSeen);\n    const now = new Date();\n    const diffMinutes = (now - lastSeenTime) / (1000 * 60);\n    \n    if (diffMinutes < 2) return 'bg-green-500';\n    if (diffMinutes < 10) return 'bg-yellow-500';\n    return 'bg-red-500';\n  };\n\n  const formatLastSeen = (lastSeen) => {\n    const date = new Date(lastSeen);\n    const now = new Date();\n    const diffMinutes = Math.floor((now - date) / (1000 * 60));\n    \n    if (diffMinutes < 1) return 'Just now';\n    if (diffMinutes < 60) return `${diffMinutes}m ago`;\n    \n    const diffHours = Math.floor(diffMinutes / 60);\n    if (diffHours < 24) return `${diffHours}h ago`;\n    \n    const diffDays = Math.floor(diffHours / 24);\n    return `${diffDays}d ago`;\n  };\n\n  return (\n    <div \n      className={`bg-white rounded-lg shadow-md p-6 cursor-pointer transition-all duration-200 hover:shadow-lg ${\n        isSelected ? 'ring-2 ring-blue-500 border-blue-500' : 'border border-gray-200'\n      }`}\n      onClick={() => onSelectDevice(device)}\n    >\n      <div className=\"flex items-center justify-between mb-4\">\n        <h3 className=\"text-lg font-semibold text-gray-800\">{device.name}</h3>\n        <div className=\"flex items-center space-x-2\">\n          <div \n            className={`w-3 h-3 rounded-full ${getStatusColor(device.isOnline, device.lastSeen)}`}\n            title={device.isOnline ? 'Online' : 'Offline'}\n          ></div>\n          <span className=\"text-sm text-gray-500\">\n            {device.isOnline ? 'Online' : 'Offline'}\n          </span>\n        </div>\n      </div>\n      \n      <div className=\"space-y-2\">\n        <div className=\"flex justify-between text-sm\">\n          <span className=\"text-gray-600\">Device ID:</span>\n          <span className=\"font-mono text-gray-800\">{device.deviceId}</span>\n        </div>\n        \n        <div className=\"flex justify-between text-sm\">\n          <span className=\"text-gray-600\">Location:</span>\n          <span className=\"text-gray-800\">{device.location || 'Unknown'}</span>\n        </div>\n        \n        <div className=\"flex justify-between text-sm\">\n          <span className=\"text-gray-600\">Zones:</span>\n          <span className=\"text-gray-800\">{device.zones?.length || 0}</span>\n        </div>\n        \n        <div className=\"flex justify-between text-sm\">\n          <span className=\"text-gray-600\">Last Seen:</span>\n          <span className=\"text-gray-800\">{formatLastSeen(device.lastSeen)}</span>\n        </div>\n      </div>\n      \n      {device.configuration?.emergencyShutoff && (\n        <div className=\"mt-3 px-2 py-1 bg-red-100 text-red-800 text-xs rounded-md\">\n          ðŸš¨ Emergency Shutoff Active\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default DeviceCard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}